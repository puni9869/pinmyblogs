{{ define "widget/url_row" }}
<div data-id="{{.ID}}" data-selected data-select-id="{{.ID}}"
  class="url-row overflow-hidden transition-all duration-300 ease-in-out select-none group w-full max-w-2xl bg-white rounded-sm border border-gray-200 px-2 py-1 shadow-sm hover:border-indigo-300 hover:shadow-md">
  <div class="group flex items-start gap-3 min-w-0">
    <!-- Favicon / Checkbox -->
    <div class="relative mt-1 h-5 w-5 flex-shrink-0">
      <!-- Favicon -->
      <img src="https://www.google.com/s2/favicons?domain={{.WebLink}}&sz=64" alt="favicon"
        class="absolute inset-0 h-5 w-5 rounded-sm checked:opacity-0 transition-opacity duration-150 group-hover:opacity-0" />
      <!-- Checkbox -->
      <input id="row-selected-checkbox" type="checkbox" data-id="{{.ID}}"
        class="absolute inset-0 h-5 w-5 group-hover:opacity-100 checked:opacity-100 opacity-0 transition-opacity duration-150 cursor-pointer" />
    </div>
    <!-- Text -->
    <div class="flex flex-col min-w-0 gap-0.5">
      <a href="{{.WebLink}}" target="_blank" id="web-link"
        class="text-sm font-medium text-gray-900 truncate hover:text-indigo-600 hover:underline transition-colors"
        title="{{ or .Title .WebLink }}">{{ or .Title .WebLink }}</a>
      <span class="text-xs text-gray-400 truncate">{{ .WebLink }}</span>
    </div>
  </div>
  <!-- Meta Row -->
  <div class="flex mt-2 items-center gap-2 text-sm text-gray-500 min-w-0">
    {{ if .Tag }}
    <span
      class='px-2 py-0.5 rounded-xl bg-{{if eq .Tag "black"}}stone{{else}}{{.Tag}}{{end}}-100 text-gray-900 hover:bg-indigo-50 hover:text-indigo-600 cursor-pointer transition'>
      #{{.Tag}}
    </span>
    {{ end }}
    {{ if .Summary }}
    <span class="text-gray-300">â€¢</span>
    <p class="truncate transition-colors" title="{{or .WebLink .Summary}}">
      {{ .Summary }}</a>
      {{ end }}
  </div>
  <!-- Actions -->
  <div class="pt-1 opacity-100 transition-all duration-200">{{ template "widget/url_actions" . }}</div>
</div>
{{ end }}